<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      			xmlns:h="http://java.sun.com/jsf/html"
      			xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:ui="http://java.sun.com/jsf/facelets"
      			xmlns:p="http://primefaces.org/ui" 
      			template="/template/template.xhtml" > 


	<ui:define name="conteudo">
	
	       <h:form id="formUsuario">  
 			    
 			    <p:spacer height="50" />
 			    
 			    <center>
 			        
 			        <p:messages id="mensagens" showDetail="false" autoUpdate="true" closable="true" />
 			        
 			        <p:fieldset style="width: 800px;">
 			             <h1 style="color : #2A649E;">Consulta de Usuários</h1>
 			        </p:fieldset>
 			        <br />
 			        <br />
				    <p:fieldset style="width: 800px;">
				     
				        <h:panelGrid columns="3">
				               
				               <h:panelGroup>
				               <p:spacer width="10px" />
				                   <p:outputLabel for="textConsulta" value="Nome do Usuário: " />
				                   <p:spacer width="10px" />    
					           </h:panelGroup>
					           
					           <h:panelGroup>
					               <p:inputText id="textConsulta" value="#{usuarioBean.usuario.username}"/>
					           </h:panelGroup>
					           
					           <h:panelGroup>
					                <p:commandButton value="Consultar" update=":formUsuario" action="#{usuarioBean.consultarUsuario()}" />
					                <p:spacer height="10" /> 
					                <p:commandButton value="Voltar Menu" action="#{menuBean.retornaMenu()}" />
					           </h:panelGroup>
				           
				           </h:panelGrid>
				           
			
				           <p:dataTable rendered="#{!usuarioBean.listaVazia}" var="usuario" value="#{usuarioBean.usuarios}" paginator="true" rows="10">  
						        
						        <p:column headerText="Cod. Usuario" style="width:10%; text-align: center;">  
						            <h:outputText value="#{usuario.id}" />  
						        </p:column>  
						  
						        <p:column headerText="Nome" style="width:50%">  
						            <h:outputText value="#{usuario.nomeUsuario}" />  
						        </p:column>  
						  
						        <p:column headerText="Username" style="width:30%">  
						            <h:outputText value="#{usuario.username}" />  
						        </p:column>  
						        
						        <p:column style="width:10%">  
						           
						           <p:commandButton action="#{usuarioBean.selecionaUsuario()}" icon="ui-icon-document" title="Editar" update=":formUsuario">
						                <f:setPropertyActionListener target="#{usuarioBean.usuario}" value="#{usuario}"/>
						           </p:commandButton>
						       
						        </p:column> 
						  						          
						    </p:dataTable>
				          
				    </p:fieldset>
			    
			    </center>
			    
			    <p:spacer height="50" />
			    
			    <br />
			    <br /> 
			      
			</h:form>
			
			  
	</ui:define>
</ui:composition>